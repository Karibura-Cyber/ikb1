# ikb_1_plugin
ปลั๊กอินสำหรับบอร์ด iKB-1 ใช้งานกับโปรแกรม KidBrightIDE

## ขีดจำกัดปัจจุบัน

 * อ่านค่าจาก Serial มากกว่า 6 - 8 ไบต์ไม่ได้ -> ไมโครคอนโทรลเลอร์ของบอร์ดทำงานไม่ทัน
 * บางคำสั่งต้องรอ ถึงจะส่งไปหาบอร์ดได้ -> เป็นเพราะโครงสร้างการทำงานของ KidBrightIDE ที่จะต้องแบ่งเวลากันเข้าใช้ทรัพยากร (I2C)
 * คำสั่งที่ไม่ต้องอ่านค่ากลับ จะถูกรวบรวมแล้วส่งไปครั้งเดียว -> เพื่อแก้ปัญหาโปรแกรมการแชร์เวลาดังกล่าวทำให้แต่ละคำสั่งต้องรอเวลา
 
## ผลกระทบเมื่อใช้งานกับปลั๊กอื่น

 * ปลั๊กอินนี้ เปลี่ยนความถี่ I2C เป็น 100kHz จึงอาจส่งผลต่อปลั๊กอินอื่น

## การติดตั้ง

### กรณีติดตั้งจาก Source code

เมื่อ Clone ไปแล้ว จะได้โฟลเดอร์ ikb_1_plugin-master ให้แก้ชื่อเป็น ikb_1_plugin แล้วย้ายไปไว้ในโฟลเดอร์ `<ไดร์ที่ติดตั้ง Windows>\Users\<Username>\AppData\Local\KidBright\app-1.0.0\resources\app\kbide\plugins` เมื่อเปิดโปรแกรม KidBrightIDE บล็อกจะอยู่ใน ปลั๊กอิน > iKB-1

### กรณีติดตั้งจากตัวช่วยติดตั้ง

ดาวน์โหลดตัวช่วยติดตั้งได้จากเมนู release เลือกเวอร์ชั่น จากนั้นดาวน์โหลดไฟล์ .exe มา โดยไฟล์ .exe จะเปรียบเสมือนไฟล์ zip (ใช้โปรแกรมอย่าง WinRAR, 7-zip เปิดดูได้) ที่มี GUI ให้เลือกที่อยู่แตกไฟล์

หลังจากเปิดไฟล์ติดตั้งให้อ่านคำแนะนำการติดตั้งได้จากหน้าต่างไฟล์ช่วยติดตั้ง

## บล็อกที่มีให้ใช้งาน

 * อ่านค่าดิจิตอล - อ่านค่าดิจิตอลจากช่อง 0 ถึง 7 (ช่อง JST สีแดง)
 * เขียนค่าดิจิตอล - เขียนค่าลอจิก 0/1 หรือ จริง/เท็จ ไปที่ช่อง 0 ถึง 7 (ช่อง JST สีแดง)
 * อ่านค่าอนาล็อก - อ่านค่าอนาล็อก 10 บิต (0-1023) จากช่อง 0 ถึง 7 (ช่อง JST สีแดง)
 * ควบคุมมอเตอร์ - ควบคุมมอเตอร์ที่ต่อช่อง 1, 2 (ไดร์บนบอร์ด) และช่อง 3, 4 (ไดร์ภายนอก) ควบคุมทิศทาง หมุนตาม/หมุนทวน และควบคุมความเร็ว 0 ถึง 100%
 * ตั้งเซอร์โว - ควบคุมเซอร์โว ที่ต่อช่อง 10 ถึง 15 (ในโปรแกรม ช่อง 1 คือช่อง 10) ให้หมุน 0 ถึง 200 องศา
 * ตั้งเซอร์โวปรับแต่ง - ควบคุมเซอร์โวปรับแต่ง ที่ต่อช่อง 10 ถึง 15 (ในโปรแกรม ช่อง 1 คือช่อง 10) ให้ หมุนตาม/หมุนทวน และควบคุมความเร็ว 0 ถึง 100%
 * ตั้งค่า baud ของ Serial - ตั้งได้ 9600/2400/57600/115200
 * ส่งข้อความผ่าน Serial - ส่งข้อความทั้งชุดผ่าน Serial
 * ส่งข้อความผ่าน Serial พร้อมขึ้นบรรทัดใหม่ - ส่งข้อความทั้งชุดผ่าน Serial พร้อมขึ้นบรรทัดใหม่ (เติม \n ต่อท้าย)
 * serial จำนวนข้อมูลที่รออ่าน - อ่านจำนวนข้อมูลที่ส่งเข้า Serial หน่วยเป็นไบต์
 * serial อ่านข้อมูล - อ่านจำนวนข้อมูลที่ส่งเข้า Serial ตามจำนวนไบต์ที่กำหนด
